
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src='https://code.jquery.com/jquery-3.7.0.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
  
  

  <script
    type="text/javascript"
    src="./js/lib/dummy.js"
    
  ></script>

    <link rel="stylesheet" type="text/css" href="/css/result-light.css">


  <style id="compiled-css" type="text/css">
    

    /* EOS */
  </style>

  <script id="insert"></script>

    <script src="./js/stringify.js?b2eead6c01625b440233c4159d4199be43d7bae0" charset="utf-8"></script>
    <script>
      const customConsole = (w) => {
        const pushToConsole = (payload, type) => {
          w.parent.postMessage({
            console: {
              payload: stringify(payload),
              type:    type
            }
          }, "*")
        }

        w.onerror = (message, url, line, column) => {
          // the line needs to correspond with the editor panel
          // unfortunately this number needs to be altered every time this view is changed
          line = line - 70
          if (line < 0){
            pushToConsole(message, "error")
          } else {
            pushToConsole(`[${line}:${column}] ${message}`, "error")
          }
        }

        let console = (function(systemConsole){
          return {
            log: function(){
              debugger
              // let args = Array.from(arguments)
              // pushToConsole(args, "log")
              // systemConsole.log.apply(this, args)
            },
            info: function(){
              // let args = Array.from(arguments)
              // pushToConsole(args, "info")
              // systemConsole.info.apply(this, args)
            },
            warn: function(){
              // let args = Array.from(arguments)
              // pushToConsole(args, "warn")
              // systemConsole.warn.apply(this, args)
            },
            error: function(){
              // let args = Array.from(arguments)
              // pushToConsole(args, "error")
              // systemConsole.error.apply(this, args)
            },
            system: function(arg){
              pushToConsole(arg, "system")
            },
            clear: function(){
              systemConsole.clear.apply(this, {})
            },
            time: function(){
              let args = Array.from(arguments)
              systemConsole.time.apply(this, args)
            },
            assert: function(assertion, label){
              if (!assertion){
                pushToConsole(label, "log")
              }

              let args = Array.from(arguments)
              systemConsole.assert.apply(this, args)
            }
          }
        }(window.console))

        window.console = { ...window.console, ...console }

        console.system("Running fiddle")
      }

      if (window.parent){
        customConsole(window)
      }
    </script>
</head>
<body>
    <p>&nbsp;</p>
<div class="container"> 
    <div class="row">
        
        <div class="col-md-12">
            <div id="iCalendar" data-months='["January","February","March","April","May","June","July","August","September","October","November","December"]' data-language="en" data-self="0">  
            </div>
        </div>
        
    </div>
</div>

    <script type="text/javascript">//<![CDATA[


document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('iCalendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        headerToolbar: {
            left: 'title',
            right: 'prev,next today',
        },
        navLinks: true, // can click day/week names to navigate views
        selectable: true,
        selectMirror: true,
        showNonCurrentDates: true,
        longPressDelay: 1,
        dayMaxEvents: true, // allow "more" link when too many events,
        events: {
            url: 'Return.php',
            type: 'POST',
            error: function() {
                alert('there was an error while fetching events!');
            }
        },
        droppable: false,
        editable: true,
        locale: $('#iCalendar').attr('data-language'),
        selectAllow: function(info) {
            return (info.start >= getDateWithoutTime(new Date()));
        },
    });
    calendar.render();
    $('.fc-header-toolbar').children().eq(0).html(gotoDrop());
    // $('.fc-header-toolbar').children().eq(1).html(sHtml);
    $(".fc-today-button").click(function() {
        let chDt = calendar.getDate();
        let y = chDt.getFullYear();
        let m = ("0" + (chDt.getMonth() + 1)).slice(-2);
        $('#month').val(m);
        $('#year').val(y);
    });
});

function gotoDrop() {
    let sHtml = '';
    sHtml += '<div id="goto">';
    let d = new Date();
    let m = d.getMonth();
    let y = d.getFullYear();
    var aMonth = JSON.parse($("#iCalendar").attr('data-months'));
    sHtml += '<label class="custom-select" for="styledSelect1"><select class="text ui-widget-content ui-corner-all" name="month" id="month">';
    $.each(aMonth, function(k, v) {
      sHtml += '<option ' + (k == m ? "selected" : "") + ' value="' + (("0" + (k + 1)).slice(-2)) + '">' + v + '</option>';
    });
    // sHtml += '</select></label>';
    // sHtml += '<label class="custom-select" for="styledSelect1" style="margin-left:10px;min-width:120px;"><select class="text ui-widget-content ui-corner-all" name="year" id="year">';
    // $.each(yearRange(), function(k, v) {
    //   sHtml += '<option ' + (v.t == y ? "selected" : "") + ' value="' + v.v + '">' + v.t + '</option>';
    // });
    // sHtml += '</select></label>';
    sHtml += '</div>';
    return sHtml;
}

function getDateWithoutTime(dt) {
    dt.setHours(0, 0, 0, 0);
    return dt;
}

/* Return.php */

/*[{"status":"Processed","title":"Working from Home","start":"2023-08-14","end":"2023-08-14","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Office","start":"2023-08-15","end":"2023-08-15","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Office","start":"2023-08-15","end":"2023-08-15","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Home","start":"2023-08-16","end":"2023-08-16","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Home","start":"2023-08-16","end":"2023-08-16","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Office","start":"2023-08-17","end":"2023-08-17","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Office","start":"2023-08-17","end":"2023-08-17","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Home","start":"2023-08-18","end":"2023-08-18","id":2083851,"FullName":"User 1 "},{"status":"Processed","title":"Working from Home","start":"2023-08-18","end":"2023-08-18","id":2083851,"FullName":"User 1 "}]*/



  //]]></script>

  <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent){
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "a54k0fre"
      }], "*")
    }

    // always overwrite window.name, in case users try to set it manually
    window.name = "result"
  </script>

    <script>
      let allLines = []

      window.addEventListener("message", (message) => {
        if (message.data.console){
          let insert = document.querySelector("#insert")
          allLines.push(message.data.console.payload)
          insert.innerHTML = allLines.join(";\r")

          let result = eval.call(null, message.data.console.payload)
          if (result !== undefined){
            console.log(result)
          }
        }
      })
    </script>

</body>
</html>
